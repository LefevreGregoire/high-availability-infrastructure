### Configuration de Keepalived sur NGINX02 (BACKUP)

```bash
sudo nano /etc/keepalived/keepalived.conf
```

Configuration pour NGINX02 :

```bash
vrrp_script chk_nginx {
    script "/usr/local/bin/check_nginx_service.sh"
    interval 2
    timeout 2
    fall 2
    rise 2
}

vrrp_instance VI_NGINX {
    state BACKUP
    interface enp0s3
    virtual_router_id 50
    priority 100
    advert_int 1

    authentication {
        auth_type PASS
        auth_pass nginx_ha
    }

    virtual_ipaddress {
        192.168.1.150/24
    }

    track_script {
        chk_nginx
    }
}
```

### Démarrage de Keepalived

Sur **NGINX01** et **NGINX02** :

```bash
# Activer Keepalived au démarrage
sudo systemctl enable keepalived

# Démarrer Keepalived
sudo systemctl start keepalived

# Vérifier le statut
sudo systemctl status keepalived
```

Si un serveur NGINX tombe en panne, le second prend automatiquement le relais en récupérant la VIP, assurant ainsi une continuité de service sans interruption.
